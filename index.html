<!DOCTYPE html>
<html>
<head>
    <title>AR Model Gallery</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: -apple-system, sans-serif;
        }
        
        .model-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            scroll-snap-type: x mandatory;
            overflow-x: scroll;
        }
        
        model-viewer {
            flex: 0 0 100%;
            scroll-snap-align: start;
            position: relative;
        }
        
        .ar-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            z-index: 100;
        }
    </style>
</head>
<body>
    <div class="model-container">
        <!-- First Model -->
        <model-viewer
            id="model1"
            src="pizzahouma.glb"
            ar
            ar-modes="quick-look webxr scene-viewer"
            camera-controls
            environment-image="neutral"
            xr-environment
            alt="Pizza Houma Model"
        >
            <button slot="ar-button" style="display: none;"></button>
        </model-viewer>
        
        <!-- Second Model -->
        <model-viewer
            id="model2"
            src="05_07_2025.glb" <!-- Replace with your second model -->
            ar
            ar-modes="quick-look webxr scene-viewer"
            camera-controls
            environment-image="neutral"
            xr-environment
            alt="Gazouz"
        >
            <button slot="ar-button" style="display: none;"></button>
        </model-viewer>
    </div>
    
    <div class="ar-prompt">Swipe left/right to view models â€¢ Tap to open AR</div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Auto-trigger AR when model is visible
            const models = document.querySelectorAll('model-viewer');
            const container = document.querySelector('.model-container');
            
            // Track current visible model
            let currentModelIndex = 0;
            
            // Auto-launch AR for the visible model
            function launchAR() {
                const arButton = models[currentModelIndex].querySelector('[slot="ar-button"]');
                if (arButton) {
                    setTimeout(() => {
                        arButton.click();
                    }, 300);
                }
            }
            
            // Handle swipe detection
            container.addEventListener('scroll', () => {
                const newIndex = Math.round(container.scrollLeft / window.innerWidth);
                if (newIndex !== currentModelIndex) {
                    currentModelIndex = newIndex;
                }
            });
            
            // Tap to open AR
            container.addEventListener('click', () => {
                launchAR();
            });
            
            // Initial AR trigger (optional)
            setTimeout(launchAR, 500);
        });
    </script>
</body>
</html>
